# ДДомашнее задание к занятию «Базы данных, их типы» - Фастовец Александр Александрович


### Задание 1

### Ответ

1.1 - Рекомендуемая СУБД: Реляционная (PostgreSQL, Oracle, Microsoft SQL Server)

    -Требуется строгая структура данных, сложные запросы, аналитика.

    -Гарантия целостности данных (ACID) и поддержка транзакций.

    -Возможность использования хранимых процедур и представлений для отчётов

1.2 - Рекомендуемая СУБД:

    -Для лендингов: Документо-ориентированная (MongoDB, CouchDB) – гибкость схемы, быстрая запись.

    -Для CRM: Графовая (Neo4j) или документо-ориентированная (MongoDB) – если важны связи между    
     лидами и сделки.

1.3 - Рекомендуемая СУБД: Реляционная (PostgreSQL) или LDAP

    - Если структура жёсткая (например, иерархия документов) – PostgreSQL.

    - Если нужна аутентификация и каталогизация – LDAP.

1.4 - Рекомендуемая СУБД: Графовая (Neo4j) или реляционная (PostgreSQL с расширением pgRouting)

    - Графовая идеальна для маршрутов (узлы – точки, рёбра – пути).

    - Реляционная с геоданными (PostGIS) – если нужно совместить с другими данными.



### Задание 2

#### Ответы

2.1 - Для успешного завершения транзакции необходимо выполнить следующие 6 шагов:

    1. Старт транзакции (BEGIN)

        Система начинает транзакцию, блокируя необходимые данные (баланс пользователя).

    2. Проверка данных

        Проверяется корректность номера телефона.

        Проверяется, существует ли пользователь в системе.

    3. Списание средств с платёжного инструмента

        Если оплата картой: запрос к платежному шлюзу (например, Stripe, Сбербанк API).

        Если наличные или электронный кошелёк (Qiwi, Яндекс.Деньги) – списание с соответствующего счёта.

    4. Зачисление средств на счёт телефона

        Обновление баланса в БД (UPDATE users SET balance = balance + 100 WHERE phone = '...').

        Фиксация операции в журнале транзакций.

    5. Фиксация транзакции (COMMIT)

        Если все шаги успешны – транзакция подтверждается, изменения сохраняются.

    6. Уведомление пользователя

        SMS или push-уведомление о пополнении.

        Возврат успешного статуса в интерфейсе.

### Задание 3

#### Ответ

3.1. Пять преимуществ SQL-систем перед NoSQL

    1. Гарантия целостности данных (ACID)

        Транзакции обеспечивают атомарность и согласованность (например, банковские операции).

        Жёсткие ограничения (PRIMARY KEY, FOREIGN KEY, NOT NULL).

    2. Стандартизированный язык запросов (SQL)

        Единый синтаксис для всех реляционных СУБД (PostgreSQL, MySQL, Oracle).

        Сложные запросы с JOIN, подзапросами, агрегациями (GROUP BY).

    3. Гибкость в аналитике и отчётности

        Оптимизирован для OLAP-систем (аналитические запросы).

        Поддержка оконных функций (OVER, PARTITION BY).

    4. Зрелость и экосистема

        Большой выбор инструментов (ETL, BI-системы, ORM).

        Поддержка триггеров, хранимых процедур, представлений (VIEW).

    5. Строгая схема данных

        Чёткая структура таблиц предотвращает «мусорные данные».

        Легче поддерживать и документировать.

### Задание 4

#### Ответы

Критерии выбора СУБД:

    - Горизонтальная масштабируемость

        Возможность добавлять узлы без downtime.

        Поддержка автоматического шардинга (разделения данных).

    - Распределённые вычисления

        Встроенные механизмы параллельной обработки (MapReduce, Spark-интеграция).

        Локальность данных (вычисления близко к данным, минимизация сетевых затрат).

    - Отказоустойчивость

        Репликация данных между узлами.

        Возможность восстановления при падении части кластера.

    - Поддержка сложных запросов

        Аналитические функции (оконные агрегации, JOIN).

        Оптимизация для OLAP (а не только OLTP).

-Лучшая модель распределённых вычислений: MapReduce + MPP (Massively Parallel Processing)

    - MapReduce (Hadoop, Spark):

    Разбивает задачи на мелкие подзадачи, распределяет их по узлам.

    Обрабатывает данные локально (data locality), уменьшая сетевой трафик.

    Подходит для пакетной обработки (ETL, отчёты).

    - MPP-архитектура (Greenplum, ClickHouse, Amazon Redshift):

    Выполняет запросы параллельно на всех узлах.

    Оптимизирована для сложных аналитических запросов с JOIN и агрегациям